<script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
<script src="dist/datamaps.world.min.js"></script>
<div id="container" style="position: relative; width: 800px; height: 540px; margin:0 auto;"></div>
<script>
var map = new Datamap({
    element: document.getElementById("container"),
    projection: 'mercator',
    fills: {
        defaultFill: "#183B73",
        authorHasTraveledTo: "#fa0fa0"
    },
    data: {
        // USA: { fillKey: "authorHasTraveledTo" },
        // JPN: { fillKey: "authorHasTraveledTo" },
    },
    geographyConfig: {
        highlightFillColor: '#217ABF',
        highlightBorderColor: '#183B73',
    },
    done: function(datamap) {
        datamap.svg.selectAll('.datamaps-subunit').on('click', function(geography) {
            map.selectedCountry(geography.properties.name);
        });
    }
});

map.addPlugin('selectedCountry', function(layer, country) {
    alert(country)
});

</script>